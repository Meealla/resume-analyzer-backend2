# Интеграция DeepSeek в проект

## Описание DeepSeek

DeepSeek - это AI-модель, предоставляемая через облачное API и доступная через платформу OpenRouter. Данная модель принимает и возвращает данные в формате JSON.

В текущей конфигурации используется следующая модель: `deepseek/deepseek-r1-distill-llama-70b:free`

## Сценарии использования:

DeepSeek может быть использована для следующих задач:

•   Генерация резюме по описанию вакансии.

•   Анализ резюме на соответствие вакансии, включая проверку структуры и ключевых слов.

•   Улучшение текста резюме (рерайт, оптимизация).

•   Автоматическая корректировка грамматических и стилистических ошибок в резюме.

## Архитектура и взаимодействие с микросервисами


**Нужно ли кэширование запросов?**

Кэширование запросов к DeepSeek API позволит:

•   Снизить задержки при повторных запросах с одинаковыми данными.

•   Уменьшить затраты на использование OpenRouter API (особенно если тарификация зависит от количества запросов).

•   Повысить отказоустойчивость системы, позволяя обслуживать запросы из кэша в случае временной недоступности OpenRouter API.

## Интеграция

**Варианты подключения:**

•   **Облачное API (OpenRouter):** Рекомендуемый способ. Использование API OpenRouter для отправки запросов к DeepSeek.

**Шаги интеграции:**

1.  **Получение API-ключа:** Зарегистрируйтесь на OpenRouter и получите API-ключ.
2.  **Настройка HTTP-клиента:** Используйте HTTP-клиент для отправки запросов к OpenRouter API. 
3.  **Реализация обработки запросов и ответов:**  Создайте классы для представления запросов и ответов в формате JSON.
4.  **Реализация логики кэширования:**  Интегрируйте кэш (например, Redis) для хранения результатов запросов.

## API для взаимодействия

**Основной endpoint:**
/chat/deepseek
```
Authorization: Bearer <API_KEY>
Content-Type: application/json
```



## Контекстное окно и длина ответа

•   *Контекстное окно (входные токены):*
DeepSeek-R1 Distill Llama 70B поддерживает до *12800 токенов* на вход.

•   *Длина ответа (выходные токены):*
Максимальная длина ответа обычно ограничена *4096 токенами*.  Вы можете указать желаемую длину ответа в параметрах запроса.

## Ограничения бесплатной версии

•*100 запросов в день*

•*5 запросов в минуту*

•Возможны ограничения на параллельные запросы (например, только 1–2 одновременно).

